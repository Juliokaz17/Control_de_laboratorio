<!doctype html>
<html lang="es">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <meta name="description" content="">
        <meta name="author" content="">
        <title>Control de laboratorio</title>
        <!-- Src de JavaScript -->
        <script type="text/javascript" src="http://localhost/Julio_XAMPP/Control_de_Laboratorio/JavaScript/alta_clientes.js"></script>
        <!-- Src de Bootstrap -->
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css">
        <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.slim.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js"></script>
        <link href="../CSS/eqs_laboratorio.css" rel="stylesheet">
        <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
    </head>
    <body>

        <nav class="navbar navbar-custom navbar-expand-md navbar-dark fixed-top">
            <div class="collapse navbar-collapse" id="navbarsExampleDefault">
                <ul class="navbar-nav mr-auto">
                <li class="nav-item active">
                <a class="nav-link" href="menu_inicio.html">Menú de inicio<span class="sr-only">(current)</span></a>
                </li>
                <li class="nav-item active">
                    <a class="nav-link" href="http://localhost/Julio_XAMPP/Control_de_Laboratorio/PHP/cerrar_sesion.php">Cerrar sesión<span class="sr-only">(current)</span></a>
                </li>
                </ul>
            </div>
        </nav>

        <div class="container">
            <div class="text-center">
                <img class="resize" src="../Assets/logo.png">
                <h1 class="display-4">Analisis</h1>
            </div>
        </div>

        <div class="container">

            <form name="formulario" class="form_position" >

                <div class="form-outline mb-4">
                    <input type="text" id="tipoHarina" placeholder="Ingrese tipo de harina" maxlength="20" class="form-control" />
                    <label class="form-label">Tipo de Harina</label>
                </div>
                <div class="form-outline mb-4">
                    <input type="text" id="inspeccionA" placeholder="Ingrese inspeccion A" maxlength="20" class="form-control"/>
                    <label class="form-label">Inspeccion A</label>
                </div>

                <div class="form-outline mb-4">
                    <input type="text" id="inspeccionBZ" class="form-control"  placeholder="Ingrese inspeccion B Z" maxlength="12"/>
                    <label class="form-label">Inspeccion B Z</label>
                </div>

                <div class="form-outline mb-4">
                    <input type="text" id="fuerzaPanadera" class="form-control" placeholder="Ingrese fuerza panadera" maxlength="50"/>
                    <label class="form-label">Fuerza Panadera</label>
                </div>

                <div class="form-outline mb-4">
                    <input type="text" id="resulTenacidad" class="form-control" placeholder="Ingrese tenacidad" maxlength="2"/>
                    <label class="form-label">Tenacidad</label>
                </div>

                <div class="form-outline mb-4">
                    <input type="text" id="resulExtensibildad" placeholder="Ingrese extensibildad" maxlength="20" class="form-control" />
                    <label class="form-label">Extensibildad</label>
                </div>

                <div class="form-outline mb-4">
                    <input type="text" id="resulRadioCurva" placeholder="Ingrese radio curva" maxlength="20" class="form-control"/>
                    <label class="form-label">Radio Curva</label>
                </div>
                <div class="form-outline mb-4">
                    <input type="text" id="resulElasticidad" placeholder="Ingrese elasticidad" class="form-control"/>
                    <label class="form-label">Elasticidad</label>
                </div>

                <div class="form-outline mb-4">
                    <input type="text" id="resulHumedad" placeholder="Ingrese humedad" class="form-control"/>
                    <label class="form-label">Humedad</label>
                </div>

                <div class="form-outline mb-4">
                    <input type="text" id="resulAbsorcion" placeholder="Ingrese absorcion" class="form-control"/>
                    <label class="form-label">Absorcion</label>
                </div>

                <div class="form-outline mb-4">
                    <input type="text" id="resulToleranciaMec" placeholder="Ingrese tolerancia mec" class="form-control"/>
                    <label class="form-label">Tolerancia Mec</label>
                </div>
                <div class="form-outline mb-4">
                    <input type="text" id="responsableAnalisis" placeholder="Ingrese responsable " class="form-control"/>
                    <label class="form-label">Responsable</label>
                </div>
                <!-- Espacio entre form y boton sign in -->
                <div class="row sm-4">
                    <div class="col d-flex justify-content-center"></div>
                </div>
                <!-- Submit button -->
                <button type="button" onclick="registrarAnalisis()" class="btn btn-primary btn-block mb-4">Registro de analisis</button><br>

            </form>

        </div>

    </body>

    <script>

        function registrarAnalisis(){
            var formData = {
                tipoHarina: $("#tipoHarina").val(),
                fechaCaducidad: $("#email").val(),
                inspeccionA: $("#inspeccionA").val(),
                inspeccionBaZ: $("#inspeccionBZ").val(),
                resulFuerzaPanadera: $("#fuerzaPanadera").val(),
                resulTenacidad: $("#resulTenacidad").val(),
                resulExtensibildad: $("#resulExtensibildad").val(),
                resulRadioCurva: $("#resulRadioCurva").val(),
                resulElasticidad: $("#resulElasticidad").val(),
                resulHumedad: $("#resulHumedad").val(),
                resulAbsorcion: $("#resulAbsorcion").val(),
                resulToleranciaMec: $("#resulToleranciaMec").val(),
                responsableAnalisis: $("#responsableAnalisis").val()
            };

            $.ajax({
                type: "POST",
                url: "http://localhost:8081/analisis",
                data: formData,
                dataType: "json",
                success: function(data)
                {
                    $("#tipoHarina").val("");
                    $("#email").val("");
                    $("#inspeccionA").val("");
                    $("#inspeccionBZ").val("");
                    $("#fuerzaPanadera").val("");
                    $("#resulTenacidad").val("");
                    $("#resulExtensibildad").val("");
                    $("#resulRadioCurva").val("");
                    $("#resulElasticidad").val("");
                    $("#resulHumedad").val("");
                    $("#resulAbsorcion").val("");
                    $("#resulToleranciaMec").val("");
                    $("#responsableAnalisis").val("");
                    alert("Analisis registrado");
                }
            });
        }
    </script>
</html>